# ImageTrim 用户指南

## 📖 目录

1. [快速开始](#快速开始)
2. [界面介绍](#界面介绍)
3. [功能使用](#功能使用)
4. [常见问题](#常见问题)
5. [快捷键](#快捷键)
6. [技术支持](#技术支持)

---

## 🚀 快速开始

### 系统要求
- **操作系统**: Windows 10+ / Linux / macOS
- **Python版本**: 3.11或更高版本
- **内存**: 最少4GB RAM，推荐8GB+
- **存储**: 至少100MB可用空间

### 安装步骤

#### 1. 下载和安装依赖
```bash
# 克隆或下载项目代码
cd ImageTrim

# 安装Python依赖
pip install -r requirements.txt
```

#### 2. 启动应用

**Windows用户:**
```bash
# 双击运行批处理文件
start.bat

# 或者在命令行运行
python main.py
```

**Linux/macOS用户:**
```bash
# 赋予执行权限
chmod +x start.sh

# 运行启动脚本
./start.sh

# 或直接运行
python main.py
```

#### 3. 首次运行
- 应用启动后会显示欢迎屏幕，加载高清艺术图片
- 图片加载完成后，主窗口会自动显示并居中
- 默认选中图片去重功能

---

## 🖥️ 界面介绍

### 主窗口布局

```
┌─────────────────────────────────────────────────────────────┐
│                        标题栏                             │
├───────────────────┬───────────────────────────────────────┤
│                   │                                       │
│   功能选择区域     │           工作区域                   │
│                   │                                       │
│   📷 图片去重     │   欢迎屏幕 / 功能工作区                │
│                   │                                       │
│   🔄 AVIF转换     │                                       │
│                   │                                       │
│   设置区域        │                                       │
│                   │                                       │
└───────────────────┴───────────────────────────────────────┘
│                        状态栏                             │
└─────────────────────────────────────────────────────────────┘
```

### 界面组件说明

#### 🎨 标题栏
- **应用图标**: ImageTrim品牌标识
- **应用标题**: ImageTrim - 图片精简工具
- **窗口控制**: 最小化、最大化/还原、关闭按钮

#### 📋 左侧面板
- **功能选择**: 点击功能卡片切换不同功能模块
- **设置区域**: 当前功能的参数配置

#### 🖼️ 右侧工作区
- **欢迎屏幕**: 启动时显示的高清艺术图片
- **功能工作区**: 动态切换的功能操作界面
- **进度显示**: 处理进度的可视化反馈
- **结果展示**: 处理结果的详细信息

#### 📊 状态栏
- **状态信息**: 当前操作状态提示
- **联系信息**: 小红书账号和版权信息

---

## 🛠️ 功能使用

### 📷 图片去重

#### 基本使用

1. **选择功能**: 点击左侧面板的"📷 图片去重"卡片
2. **配置参数**: 在设置区域调整去重参数
3. **选择目录**: 点击"选择目录"按钮或拖拽文件夹到工作区
4. **开始扫描**: 点击"开始扫描"按钮
5. **查看结果**: 在工作区查看重复图片组
6. **处理重复**: 选择要删除或移动的重复图片

#### 参数说明

- **相似度阈值**: 0.0-1.0，值越大要求越相似
  - 0.8-0.9: 严格匹配，几乎完全相同
  - 0.6-0.8: 正常匹配，视觉相似
  - 0.4-0.6: 宽松匹配，颜色相似

- **哈希算法**: 选择图片相似度计算算法
  - **感知哈希**: 速度快，适合一般场景
  - **差异哈希**: 精度高，处理稍慢
  - **小波哈希**: 最精确，处理最慢

- **最小文件大小**: 过滤小于指定大小的文件
- **包含子目录**: 是否递归扫描子文件夹

#### 结果处理

- **预览缩略图**: 查看重复图片的缩略图预览
- **选择操作**:
  - 删除重复文件
  - 移动到指定目录
  - 保留所有文件
- **批量操作**: 使用全选/反选快速选择
- **安全保护**: 系统会提示重要操作确认

### 🔄 AVIF转换

#### 基本使用

1. **选择功能**: 点击左侧面板的"🔄 AVIF转换"卡片
2. **设置源路径**: 选择要转换的图片所在目录
3. **设置目标路径**: 选择转换后图片的保存位置
4. **调整参数**: 设置输出格式、质量等参数
5. **开始转换**: 点击"开始转换"按钮
6. **监控进度**: 查看转换进度和日志信息

#### 参数说明

- **输出格式**: 选择目标图片格式
  - **AVIF**: 最现代的格式，文件最小
  - **WEBP**: 兼容性更好的现代格式
  - **JPEG**: 传统格式，兼容性最好
  - **PNG**: 无损格式，保持质量

- **质量设置**: 1-100，控制输出图片质量
  - 80-95: 高质量，推荐设置
  - 60-80: 中等质量，文件较小
  - 30-60: 低质量，文件最小

- **包含子目录**: 是否处理子文件夹中的图片
- **覆盖原文件**: 是否覆盖已存在的目标文件

#### 转换监控

- **实时进度**: 显示当前转换进度百分比
- **处理统计**: 显示已处理/总文件数量
- **速度显示**: 显示每秒处理文件数
- **错误日志**: 显示转换失败的文件和原因
- **停止控制**: 可随时停止转换过程

---

## ❓ 常见问题

### 安装和启动问题

**Q: 启动时提示"没有找到模块"错误**
```
A: 确保已安装所有依赖：
pip install -r requirements.txt

如果仍有问题，尝试：
pip install --upgrade -r requirements.txt
```

**Q: 在Linux/macOS上无法启动**
```
A: 确保脚本有执行权限：
chmod +x start.sh

如果Python版本问题，尝试：
python3 main.py
```

**Q: 启动后界面显示异常**
```
A: 这可能是PyQt6安装问题，尝试重新安装：
pip uninstall PyQt6
pip install PyQt6
```

### 功能使用问题

**Q: 图片去重结果不准确**
```
A: 尝试调整相似度阈值：
- 结果过多：提高阈值到0.8-0.9
- 结果过少：降低阈值到0.6-0.7
- 尝试不同的哈希算法
```

**Q: AVIF转换失败**
```
A: 检查以下方面：
1. 确保安装了pillow-avif-plugin
2. 检查目标目录是否有写入权限
3. 确保源文件不是损坏的图片
4. 尝试降低质量设置
```

**Q: 处理大文件时程序卡顿**
```
A: 这是正常现象，图片处理需要时间：
- 程序仍在后台处理
- 可以查看进度条和日志
- 可以随时停止处理
- 建议分批处理大量文件
```

### 性能优化问题

**Q: 内存使用过高**
```
A: 处理大量图片时内存占用较高是正常的：
- 关闭不需要的程序释放内存
- 分批次处理大量文件
- 增加系统虚拟内存
```

**Q: 处理速度慢**
```
A: 提高处理速度的方法：
- 使用SSD硬盘存储图片
- 增加系统内存
- 关闭其他占用CPU的程序
- 选择合适的哈希算法
```

---

## ⌨️ 快捷键

### 通用快捷键
- `Ctrl+Q`: 退出应用程序
- `F1`: 显示帮助信息
- `F5`: 刷新当前界面
- `Esc`: 取消当前操作

### 图片去重快捷键
- `Ctrl+O`: 选择目录
- `Ctrl+S`: 开始扫描
- `Ctrl+X`: 停止扫描
- `Ctrl+A`: 全选重复项
- `Ctrl+D`: 取消选择
- `Delete`: 删除选中项

### AVIF转换快捷键
- `Ctrl+O`: 选择源目录
- `Ctrl+T`: 选择目标目录
- `Ctrl+S`: 开始转换
- `Ctrl+X`: 停止转换
- `Ctrl+L`: 查看日志

---

## 🔧 技术支持

### 获取帮助

如果您在使用过程中遇到问题，可以通过以下方式获取帮助：

1. **小红书**: 919722379
2. **GitHub Issues**: 在项目仓库提交问题
3. **邮件支持**: 发送邮件描述您的问题

### 问题反馈

为了更好地帮助您解决问题，请在反馈时包含以下信息：

1. **操作系统**: Windows/Linux/macOS版本
2. **Python版本**: `python --version`
3. **错误信息**: 完整的错误提示信息
4. **操作步骤**: 导致问题的具体操作
5. **截图**: 界面异常的截图（如果适用）

### 常见问题解决方案

#### 安装问题
```bash
# 更新pip
python -m pip install --upgrade pip

# 重新安装依赖
pip uninstall -r requirements.txt -y
pip install -r requirements.txt

# 如果安装pillow-avif-plugin失败
pip install pillow-avif-plugin --no-cache-dir
```

#### 运行问题
```bash
# 检查Python版本
python --version

# 检查已安装的包
pip list

# 运行诊断
python -c "import PyQt6; import PIL; print('依赖正常')"
```

#### 性能问题
```bash
# 查看系统资源使用情况
# Windows: 任务管理器
# Linux: htop 或 top
# macOS: 活动监视器

# 清理临时文件
import tempfile
import os
temp_dir = tempfile.gettempdir()
print(f"临时文件目录: {temp_dir}")
```

---

## 📝 更新日志

### v1.0.0 (2025-10-12)
- ✅ 完成PyQt6版本的开发
- ✅ 实现图片去重功能
- ✅ 实现AVIF转换功能
- ✅ 现代化UI设计
- ✅ 完善的错误处理
- ✅ 用户友好的界面

### 计划中的功能
- 🔄 图片压缩功能
- 🔄 批量重命名
- 🔄 水印添加功能
- 🔄 更多图片格式支持
- 🔄 云同步功能

---

## 📄 许可证

© 2025 ImageTrim
小红书: 919722379

**免责声明**: 本软件仅供学习和个人使用。用户在使用过程中应自行承担风险，开发者不对因使用本软件而造成的任何损失负责。

---

感谢您选择ImageTrim！我们将持续改进产品，为您提供更好的图片处理体验。